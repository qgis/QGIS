/************************************************************************
 * This file has been generated automatically from                      *
 *                                                                      *
 * src/gui/qgsrubberband.h                                              *
 *                                                                      *
 * Do not edit manually ! Edit header and run scripts/sipify.pl again   *
 ************************************************************************/





class QgsRubberBand : QObject, QgsMapCanvasItem
{
%Docstring
A class for drawing transient features (e.g. digitizing lines) on the map.

The QgsRubberBand class provides a transparent overlay widget
for tracking the mouse while drawing polylines or polygons.
%End

%TypeHeaderCode
#include "qgsrubberband.h"
%End
  public:


    enum IconType
    {

      ICON_NONE,

      ICON_CROSS,

      ICON_X,

      ICON_BOX,

      ICON_CIRCLE,

      ICON_FULL_BOX,

      ICON_DIAMOND,

      ICON_FULL_DIAMOND,
    };

    QgsRubberBand( QgsMapCanvas *mapCanvas /TransferThis/, QgsWkbTypes::GeometryType geometryType = QgsWkbTypes::LineGeometry );
%Docstring
Creates a new RubberBand.

:param mapCanvas: The map canvas to draw onto.
                  Its CRS will be used to map points onto screen coordinates.
                  The ownership is transferred to this canvas.
:param geometryType: Defines how the data should be drawn onto the screen.
                     QgsWkbTypes.LineGeometry, QgsWkbTypes.PolygonGeometry or QgsWkbTypes.PointGeometry
%End

    void setColor( const QColor &color );
%Docstring
Sets the color for the rubberband.
Shorthand method to set fill and stroke color with a single call.

:param color: The color used to render this rubberband
%End

    void setFillColor( const QColor &color );
%Docstring
Sets the fill color for the rubberband

:param color: The color used to render this rubberband

.. versionadded:: 2.6
%End

    QColor fillColor() const;
%Docstring
Returns the current fill color.
%End

    void setStrokeColor( const QColor &color );
%Docstring
Sets the stroke color for the rubberband

:param color: The color used to render this rubberband

.. versionadded:: 2.6
%End

    QColor strokeColor() const;
%Docstring
Returns the current stroke color.
%End

    void setSecondaryStrokeColor( const QColor &color );
%Docstring
Sets a secondary stroke color for the rubberband which will be drawn under the main stroke color.
Set to an invalid color to avoid drawing the secondary stroke.

:param color: The color used to render a secondary stroke color to this rubberband

.. versionadded:: 3.0
%End

    QColor secondaryStrokeColor() const;
%Docstring
Returns the current secondary stroke color.
%End

    void setWidth( int width );
%Docstring
Sets the width of the line. Stroke width for polygon.

:param width: The width for any lines painted for this rubberband
%End

    int width() const;
%Docstring
Returns the current width of the line or stroke width for polygon.
%End

    void setIcon( IconType icon );
%Docstring
Sets the icon type to highlight point geometries.

:param icon: The icon to visualize point geometries
%End


    IconType icon() const;
%Docstring
Returns the current icon type to highlight point geometries.
%End

    void setIconSize( int iconSize );
%Docstring
Sets the size of the point icons
%End

    int iconSize() const;
%Docstring
Returns the current icon size of the point icons.
%End

    void setLineStyle( Qt::PenStyle penStyle );
%Docstring
Sets the style of the line
%End

    void setBrushStyle( Qt::BrushStyle brushStyle );
%Docstring
Sets the style of the brush
%End

    void reset( QgsWkbTypes::GeometryType geometryType = QgsWkbTypes::LineGeometry );
%Docstring
Clears all the geometries in this rubberband.
Sets the representation type according to geometryType.

:param geometryType: Defines how the data should be drawn onto the screen. (Use Qgis.Line, Qgis.Polygon or Qgis.Point)
%End

    void addPoint( const QgsPointXY &p, bool doUpdate = true, int geometryIndex = 0 );
%Docstring
Adds a vertex to the rubberband and update canvas.
The rendering of the vertex depends on the current GeometryType and icon.
If adding more points consider using update=false for better performance

:param p: The vertex/point to add
:param doUpdate: Should the map canvas be updated immediately?
:param geometryIndex: The index of the feature part (in case of multipart geometries)
%End

    void closePoints( bool doUpdate = true, int geometryIndex = 0 );
%Docstring
Ensures that a polygon geometry is closed and that the last vertex equals the
first vertex.

:param doUpdate: set to true to update the map canvas immediately
:param geometryIndex: index of the feature part (in case of multipart geometries)

.. versionadded:: 2.16
%End

    void removePoint( int index = 0, bool doUpdate = true, int geometryIndex = 0 );
%Docstring
Removes a vertex from the rubberband and (optionally) updates canvas.

:param index: The index of the vertex/point to remove, negative indexes start at end
:param doUpdate: Should the map canvas be updated immediately?
:param geometryIndex: The index of the feature part (in case of multipart geometries)
%End

    void removeLastPoint( int geometryIndex = 0, bool doUpdate = true );
%Docstring
Removes the last point. Most useful in connection with undo operations
%End

    void movePoint( const QgsPointXY &p, int geometryIndex = 0 );
%Docstring
Moves the rubber band point specified by index. Note that if the rubber band is
not used to track the last mouse position, the first point of the rubber band has two vertices
%End

    void movePoint( int index, const QgsPointXY &p, int geometryIndex = 0 );
%Docstring
Moves the rubber band point specified by index. Note that if the rubber band is
not used to track the last mouse position, the first point of the rubber band has two vertices
%End

    int partSize( int geometryIndex ) const;
%Docstring
Returns number of vertices in feature part

:param geometryIndex: The index of the feature part (in case of multipart geometries)

:return: number of vertices
%End

    void setToGeometry( const QgsGeometry &geom, QgsVectorLayer *layer );
%Docstring
Sets this rubber band to ``geom``.
This is useful for feature highlighting.
In contrast to addGeometry(), this method does also change the geometry type of the rubberband.

:param geom: the geometry object
:param layer: the layer containing the feature, used for coord transformation to map
              crs. In case of 0 pointer, the coordinates are not going to be transformed.
%End

    void setToGeometry( const QgsGeometry &geometry, const QgsCoordinateReferenceSystem &crs = QgsCoordinateReferenceSystem() );
%Docstring
Sets this rubber band to ``geometry``.
In contrast to addGeometry(), this method does also change the geometry type of the rubberband.
The coordinate reference system of the geometry can be specified with ``crs``. If an invalid ``crs``
is passed, the geometry will not be reprojected and needs to be in canvas crs already.
By default, no reprojection is done.

.. versionadded:: 3.4
%End

    void setToCanvasRectangle( QRect rect );
%Docstring
Sets this rubber band to a map canvas rectangle

:param rect: rectangle in canvas coordinates
%End

    void addGeometry( const QgsGeometry &geometry, QgsVectorLayer *layer );
%Docstring
Adds the geometry of an existing feature to a rubberband
This is useful for multi feature highlighting.
As of 2.0, this method does not change the GeometryType any more. You need to set the GeometryType
of the rubberband explicitly by calling reset() or setToGeometry() with appropriate arguments.
setToGeometry() is also to be preferred for backwards-compatibility.

:param geometry: the geometry object. Will be treated as a collection of vertices.
:param layer: the layer containing the feature, used for coord transformation to map
              crs. In case of 0 pointer, the coordinates are not going to be transformed.
%End

    void addGeometry( const QgsGeometry &geometry, const QgsCoordinateReferenceSystem &crs = QgsCoordinateReferenceSystem() );
%Docstring
Adds a ``geometry`` to the rubberband.

If ``crs`` is specified, the geometry will be automatically reprojected from ``crs``
to the canvas CRS.

.. versionadded:: 3.0
%End

    void setTranslationOffset( double dx, double dy );
%Docstring
Adds translation to original coordinates (all in map coordinates)

:param dx: x translation
:param dy: y translation
%End

    int size() const;
%Docstring
Returns number of geometries

:return: number of geometries
%End

    int numberOfVertices() const;
%Docstring
Returns count of vertices in all lists of mPoint

:return: The total number of vertices
%End

    const QgsPointXY *getPoint( int i, int j = 0 ) const;
%Docstring
Returns a vertex

:param i: The geometry index
:param j: The vertex index within geometry i
%End

    QgsGeometry asGeometry() const;
%Docstring
Returns the rubberband as a Geometry

:return: A geometry object which reflects the current state of the rubberband.
%End

    virtual void updatePosition();


  protected:

    virtual void paint( QPainter *p );

%Docstring
Paints the rubber band in response to an update event.

:param p: The QPainter object
%End

    void drawShape( QPainter *p, const QVector<QPointF> &pts );
%Docstring
Draws shape of the rubber band.

:param p: The QPainter object
:param pts: A list of points used to draw the shape
%End

    void updateRect();
%Docstring
Recalculates needed rectangle
%End

};

/************************************************************************
 * This file has been generated automatically from                      *
 *                                                                      *
 * src/gui/qgsrubberband.h                                              *
 *                                                                      *
 * Do not edit manually ! Edit header and run scripts/sipify.pl again   *
 ************************************************************************/
